# 301 Redirect Site

このサイトは 301 リダイレクト用に設定されています。
全てのトラフィックは自動的にサブドメインにリダイレクトされます。


## リダイレクト方法

以下の2つの方法でリダイレクトを設定しています。

### 1. `_redirects`ファイルを使用

プロジェクトのルートディレクトリに`_redirects`ファイルを作成し、以下の内容を記述しています。

```.plaintext
/ https://blog.ec-maker.com/:splat 301!
```

- `/*`: メインドメインへのすべてのアクセスを対象とします。
- `https://blog.ec-maker.com/:splat`: リダイレクト先のサブドメインとパスを指定します。`blog.ec-maker.com`の部分は実際のサブドメインに変更してください。
- `301!`: 301リダイレクトを行い、かつこのルールを強制的に適用します。`!`を付けることで、`index.html`などのファイルが存在しても、このリダイレクトルールが優先されます。

### 2. `netlify.toml`ファイルを使用

プロジェクトのルートディレクトリに`netlify.toml`ファイルを作成しする方法もある。  
ただし、簡単のため当サイトでは1.を使用する。

```.toml
[[redirects]]
from = "/"
to = "https://blog.ec-maker.com/:splat"
status = 301
force = true
```

- `from = "/*"`: メインドメインへのすべてのアクセスを対象とします。
- `to = "https://blog.ec-maker.com/:splat"`: リダイレクト先のサブドメインとパスを指定します。`blog.ec-maker.com`の部分は実際のサブドメインに変更してください。
- `status = 301`: 301リダイレクトを行います。
- `force = true`: このリダイレクトルールを強制的に適用します。`index.html`などのファイルが存在しても、このリダイレクトルールが優先されます。

## キャッシュのクリア

設定変更後は、Netlifyのデプロイキャッシュをクリアすることで、確実に新しい設定が反映されます。

1. Netlifyダッシュボードで該当のサイトを選択
2. `Site settings` → `Build & deploy`
3. `Clear cache and deploy site`をクリック

## index.htmlについて

`index.html`は、Google AdSenseの審査などのために、最低限のコンテンツを含むHTMLファイルとして用意されています。リダイレクト設定が正しく行われていれば、ユーザーがこのページを目にすることはありません。
